'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getQuantileDomain = getQuantileDomain;
exports.getOrdinalDomain = getOrdinalDomain;
exports.getLinearDomain = getLinearDomain;

var _dataUtils = require('./data-utils');

var _d3Array = require('d3-array');

/**
 * return quantile domain for an array of data
 * @param {array} data
 * @param {function | undefined} valueAccessor
 * @param {function | undefined} sortFunc
 * @returns {array} domain
 */
function getQuantileDomain(data, valueAccessor, sortFunc) {
  var values = typeof valueAccessor === 'function' ? data.map(valueAccessor) : data;

  return values.filter(_dataUtils.notNullorUndefined).sort(sortFunc);
}

/**
 * return ordinal domain for an array of data
 * @param {array} data
 * @param {function} valueAccessor
 * @returns {array} domain
 */
function getOrdinalDomain(data, valueAccessor) {
  var values = typeof valueAccessor === 'function' ? data.map(valueAccessor) : data;

  return (0, _dataUtils.unique)(values).filter(_dataUtils.notNullorUndefined);
}

/**
 * return linear domain for an array of data
 * @param {Array} data
 * @param {function} valueAccessor
 * @returns {Array} domain
 */
function getLinearDomain(data, valueAccessor) {
  var range = typeof valueAccessor === 'function' ? (0, _d3Array.extent)(data, valueAccessor) : (0, _d3Array.extent)(data);

  return range.map(function (d, i) {
    return d === undefined ? i : d;
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlscy9kYXRhLXNjYWxlLXV0aWxzLmpzIl0sIm5hbWVzIjpbImdldFF1YW50aWxlRG9tYWluIiwiZ2V0T3JkaW5hbERvbWFpbiIsImdldExpbmVhckRvbWFpbiIsImRhdGEiLCJ2YWx1ZUFjY2Vzc29yIiwic29ydEZ1bmMiLCJ2YWx1ZXMiLCJtYXAiLCJmaWx0ZXIiLCJzb3J0IiwicmFuZ2UiLCJkIiwiaSIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFVZ0JBLGlCLEdBQUFBLGlCO1FBYUFDLGdCLEdBQUFBLGdCO1FBYUFDLGUsR0FBQUEsZTs7QUFwQ2hCOztBQUNBOztBQUVBOzs7Ozs7O0FBT08sU0FBU0YsaUJBQVQsQ0FBMkJHLElBQTNCLEVBQWlDQyxhQUFqQyxFQUFnREMsUUFBaEQsRUFBMEQ7QUFDL0QsTUFBTUMsU0FDSixPQUFPRixhQUFQLEtBQXlCLFVBQXpCLEdBQXNDRCxLQUFLSSxHQUFMLENBQVNILGFBQVQsQ0FBdEMsR0FBZ0VELElBRGxFOztBQUdBLFNBQU9HLE9BQU9FLE1BQVAsZ0NBQWtDQyxJQUFsQyxDQUF1Q0osUUFBdkMsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7QUFNTyxTQUFTSixnQkFBVCxDQUEwQkUsSUFBMUIsRUFBZ0NDLGFBQWhDLEVBQStDO0FBQ3BELE1BQU1FLFNBQ0osT0FBT0YsYUFBUCxLQUF5QixVQUF6QixHQUFzQ0QsS0FBS0ksR0FBTCxDQUFTSCxhQUFULENBQXRDLEdBQWdFRCxJQURsRTs7QUFHQSxTQUFPLHVCQUFPRyxNQUFQLEVBQWVFLE1BQWYsK0JBQVA7QUFDRDs7QUFFRDs7Ozs7O0FBTU8sU0FBU04sZUFBVCxDQUF5QkMsSUFBekIsRUFBK0JDLGFBQS9CLEVBQThDO0FBQ25ELE1BQU1NLFFBQ0osT0FBT04sYUFBUCxLQUF5QixVQUF6QixHQUNJLHFCQUFPRCxJQUFQLEVBQWFDLGFBQWIsQ0FESixHQUVJLHFCQUFPRCxJQUFQLENBSE47O0FBS0EsU0FBT08sTUFBTUgsR0FBTixDQUFVLFVBQUNJLENBQUQsRUFBSUMsQ0FBSjtBQUFBLFdBQVdELE1BQU1FLFNBQU4sR0FBa0JELENBQWxCLEdBQXNCRCxDQUFqQztBQUFBLEdBQVYsQ0FBUDtBQUNEIiwiZmlsZSI6ImRhdGEtc2NhbGUtdXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge25vdE51bGxvclVuZGVmaW5lZCwgdW5pcXVlfSBmcm9tICcuL2RhdGEtdXRpbHMnO1xuaW1wb3J0IHtleHRlbnR9IGZyb20gJ2QzLWFycmF5JztcblxuLyoqXG4gKiByZXR1cm4gcXVhbnRpbGUgZG9tYWluIGZvciBhbiBhcnJheSBvZiBkYXRhXG4gKiBAcGFyYW0ge2FycmF5fSBkYXRhXG4gKiBAcGFyYW0ge2Z1bmN0aW9uIHwgdW5kZWZpbmVkfSB2YWx1ZUFjY2Vzc29yXG4gKiBAcGFyYW0ge2Z1bmN0aW9uIHwgdW5kZWZpbmVkfSBzb3J0RnVuY1xuICogQHJldHVybnMge2FycmF5fSBkb21haW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFF1YW50aWxlRG9tYWluKGRhdGEsIHZhbHVlQWNjZXNzb3IsIHNvcnRGdW5jKSB7XG4gIGNvbnN0IHZhbHVlcyA9XG4gICAgdHlwZW9mIHZhbHVlQWNjZXNzb3IgPT09ICdmdW5jdGlvbicgPyBkYXRhLm1hcCh2YWx1ZUFjY2Vzc29yKSA6IGRhdGE7XG5cbiAgcmV0dXJuIHZhbHVlcy5maWx0ZXIobm90TnVsbG9yVW5kZWZpbmVkKS5zb3J0KHNvcnRGdW5jKTtcbn1cblxuLyoqXG4gKiByZXR1cm4gb3JkaW5hbCBkb21haW4gZm9yIGFuIGFycmF5IG9mIGRhdGFcbiAqIEBwYXJhbSB7YXJyYXl9IGRhdGFcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHZhbHVlQWNjZXNzb3JcbiAqIEByZXR1cm5zIHthcnJheX0gZG9tYWluXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcmRpbmFsRG9tYWluKGRhdGEsIHZhbHVlQWNjZXNzb3IpIHtcbiAgY29uc3QgdmFsdWVzID1cbiAgICB0eXBlb2YgdmFsdWVBY2Nlc3NvciA9PT0gJ2Z1bmN0aW9uJyA/IGRhdGEubWFwKHZhbHVlQWNjZXNzb3IpIDogZGF0YTtcblxuICByZXR1cm4gdW5pcXVlKHZhbHVlcykuZmlsdGVyKG5vdE51bGxvclVuZGVmaW5lZCk7XG59XG5cbi8qKlxuICogcmV0dXJuIGxpbmVhciBkb21haW4gZm9yIGFuIGFycmF5IG9mIGRhdGFcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHZhbHVlQWNjZXNzb3JcbiAqIEByZXR1cm5zIHtBcnJheX0gZG9tYWluXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaW5lYXJEb21haW4oZGF0YSwgdmFsdWVBY2Nlc3Nvcikge1xuICBjb25zdCByYW5nZSA9XG4gICAgdHlwZW9mIHZhbHVlQWNjZXNzb3IgPT09ICdmdW5jdGlvbidcbiAgICAgID8gZXh0ZW50KGRhdGEsIHZhbHVlQWNjZXNzb3IpXG4gICAgICA6IGV4dGVudChkYXRhKTtcblxuICByZXR1cm4gcmFuZ2UubWFwKChkLCBpKSA9PiAoZCA9PT0gdW5kZWZpbmVkID8gaSA6IGQpKTtcbn1cbiJdfQ==